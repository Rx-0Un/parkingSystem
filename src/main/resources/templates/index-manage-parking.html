<!DOCTYPE html>
<html dir="ltr" lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicon.png">
    <title>Matrix Template - The Ultimate Multipurpose admin template</title>
    <!-- Custom CSS -->
    <link href="assets/libs/fullcalendar/dist/fullcalendar.min.css" rel="stylesheet"/>
    <link href="assets/extra-libs/calendar/calendar.css" rel="stylesheet"/>
    <link href="assets/libs/flot/css/float-chart.css" rel="stylesheet">
    <link href="dist/css/style.min.css" rel="stylesheet">
</head>
<body>
<div class="preloader">
    <div class="lds-ripple">
        <div class="lds-pos"></div>
        <div class="lds-pos"></div>
    </div>
</div>
<div id="main-wrapper">
    <header class="topbar" data-navbarbg="skin5">
        <nav class="navbar top-navbar navbar-expand-md navbar-dark">
            <div class="navbar-header" data-logobg="skin5">
                <a class="nav-toggler waves-effect waves-light d-block d-md-none" href="javascript:void(0)"><i
                        class="ti-menu ti-close"></i></a>
                <a class="navbar-brand" href="index.html">
                    <b class="logo-icon p-l-10">
                        <img src="assets/images/logo-icon.png" alt="homepage" class="light-logo"/>
                    </b>
                    <span class="logo-text">
                            <img src="assets/images/logo-text.png" alt="homepage" class="light-logo"/>
                        </span>
                </a>
                <a class="topbartoggler d-block d-md-none waves-effect waves-light" href="javascript:void(0)"
                   data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                   aria-expanded="false" aria-label="Toggle navigation"><i class="ti-more"></i></a>
            </div>
            <div class="navbar-collapse collapse" id="navbarSupportedContent" data-navbarbg="skin5">
                <ul class="navbar-nav float-left mr-auto">
                    <li class="nav-item d-none d-md-block"><a class="nav-link sidebartoggler waves-effect waves-light"
                                                              href="javascript:void(0)" data-sidebartype="mini-sidebar"><i
                            class="mdi mdi-menu font-24"></i></a></li>
                </ul>
                <ul class="navbar-nav float-right">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle waves-effect waves-dark" href="" data-toggle="dropdown"
                           aria-haspopup="true" aria-expanded="false"> <i class="mdi mdi-bell font-24"></i>
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="#">Action</a>
                            <a class="dropdown-item" href="#">Another action</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#">Something else here</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle waves-effect waves-dark" href="" id="2"
                           data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i
                                class="font-24 mdi mdi-comment-processing"></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right mailbox animated bounceInDown"
                             aria-labelledby="2">
                            <ul class="list-style-none">
                                <li>
                                    <div class="">
                                        <a href="javascript:void(0)" class="link border-top">
                                            <div class="d-flex no-block align-items-center p-10">
                                                <span class="btn btn-success btn-circle"><i
                                                        class="ti-calendar"></i></span>
                                                <div class="m-l-10">
                                                    <h5 class="m-b-0">Event today</h5>
                                                    <span class="mail-desc">Just a reminder that event</span>
                                                </div>
                                            </div>
                                        </a>
                                        <a href="javascript:void(0)" class="link border-top">
                                            <div class="d-flex no-block align-items-center p-10">
                                                <span class="btn btn-info btn-circle"><i class="ti-settings"></i></span>
                                                <div class="m-l-10">
                                                    <h5 class="m-b-0">Settings</h5>
                                                    <span class="mail-desc">You can customize this template</span>
                                                </div>
                                            </div>
                                        </a>
                                        <a href="javascript:void(0)" class="link border-top">
                                            <div class="d-flex no-block align-items-center p-10">
                                                <span class="btn btn-primary btn-circle"><i class="ti-user"></i></span>
                                                <div class="m-l-10">
                                                    <h5 class="m-b-0">Pavan kumar</h5>
                                                    <span class="mail-desc">Just see the my admin!</span>
                                                </div>
                                            </div>
                                        </a>
                                        <a href="javascript:void(0)" class="link border-top">
                                            <div class="d-flex no-block align-items-center p-10">
                                                <span class="btn btn-danger btn-circle"><i
                                                        class="fa fa-link"></i></span>
                                                <div class="m-l-10">
                                                    <h5 class="m-b-0">Luanch Admin</h5>
                                                    <span class="mail-desc">Just see the my new admin!</span>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle text-muted waves-effect waves-dark pro-pic" href=""
                           data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img
                                src="assets/images/users/1.jpg" alt="user" class="rounded-circle" width="31"></a>
                        <div class="dropdown-menu dropdown-menu-right user-dd animated">
                            <a class="dropdown-item" href="javascript:void(0)"><i class="ti-user m-r-5 m-l-5"></i> My
                                Profile</a>
                            <a class="dropdown-item" href="javascript:void(0)"><i class="ti-wallet m-r-5 m-l-5"></i> My
                                Balance</a>
                            <a class="dropdown-item" href="javascript:void(0)"><i class="ti-email m-r-5 m-l-5"></i>
                                Inbox</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="javascript:void(0)"><i class="ti-settings m-r-5 m-l-5"></i>
                                Account Setting</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="javascript:void(0)"><i
                                    class="fa fa-power-off m-r-5 m-l-5"></i> Logout</a>
                            <div class="dropdown-divider"></div>
                            <div class="p-l-30 p-10"><a href="javascript:void(0)"
                                                        class="btn btn-sm btn-success btn-rounded">View Profile</a>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </nav>
    </header>
    <aside class="left-sidebar" data-sidebarbg="skin5">
        <div class="scroll-sidebar">
            <nav class="sidebar-nav">
                <ul id="sidebarnav" class="p-t-30">
                    <li class="sidebar-item"><a class="sidebar-link waves-effect waves-dark sidebar-link"
                                                href="/mainPager"
                                                aria-expanded="false"><i class="mdi mdi-view-dashboard"></i><span
                            class="hide-menu"> 首页</span></a></li>
                    <li class="sidebar-item"><a class="sidebar-link waves-effect waves-dark sidebar-link"
                                                href="/index-manage-parking" aria-expanded="false"><i
                            class="mdi mdi-view-dashboard"></i><span class="hide-menu"> 车场管理</span></a></li>
                    <li class="sidebar-item"><a class="sidebar-link has-arrow waves-effect waves-dark"
                                                href="1" aria-expanded="false"><i
                            class="mdi mdi-receipt"></i><span class="hide-menu">缴费管理 </span></a>
                        <ul aria-expanded="false" class="collapse  first-level">
                            <li class="sidebar-item"><a href="/index-charge-rule" class="sidebar-link"><i
                                    class="mdi mdi-note-outline"></i><span class="hide-menu">收费规则 </span></a></li>
                            <li class="sidebar-item"><a href="/index-order-search" class="sidebar-link"><i
                                    class="mdi mdi-note-plus"></i><span class="hide-menu">订单查询 </span></a></li>
                            <li class="sidebar-item"><a href="#" class="sidebar-link"><i
                                    class="mdi mdi-note-plus"></i><span class="hide-menu">优惠券管理 </span></a></li>
                            <li class="sidebar-item"><a href="1" class="sidebar-link"><i
                                    class="mdi mdi-note-plus"></i><span class="hide-menu">业务报表</span></a></li>
                        </ul>
                    </li>
                    <li class="sidebar-item"><a class="sidebar-link waves-effect waves-dark sidebar-link"
                                                href="/index-data-manage" aria-expanded="false"><i
                            class="mdi mdi-view-dashboard"></i><span class="hide-menu"> 车场数据</span></a></li>
                    <li class="sidebar-item"><a class="sidebar-link has-arrow waves-effect waves-dark"
                                                href="javascript:void(0)" aria-expanded="false"><i
                            class="mdi mdi-receipt"></i><span class="hide-menu">员工管理 </span></a>
                        <ul aria-expanded="false" class="collapse  first-level">
                            <li class="sidebar-item"><a href="/index-staff" class="sidebar-link"><i
                                    class="mdi mdi-note-outline"></i><span class="hide-menu">员工信息</span></a></li>
                            <li class="sidebar-item"><a href="/index-duty-statistics" class="sidebar-link"><i
                                    class="mdi mdi-note-plus"></i><span class="hide-menu">当班统计 </span></a></li>
                            <li class="sidebar-item"><a href="1" class="sidebar-link"><i
                                    class="mdi mdi-note-plus"></i><span class="hide-menu">任务详情</span></a></li>
                        </ul>
                    </li>
                    <li class="sidebar-item"><a class="sidebar-link has-arrow waves-effect waves-dark"
                                                href="javascript:void(0)" aria-expanded="false"><i
                            class="mdi mdi-receipt"></i><span class="hide-menu">app管理 </span></a>
                        <ul aria-expanded="false" class="collapse  first-level">
                            <li class="sidebar-item"><a href="1" class="sidebar-link"><i
                                    class="mdi mdi-note-outline"></i><span class="hide-menu">消息推送 </span></a></li>
                            <li class="sidebar-item"><a href="/index-app-user-manage" class="sidebar-link"><i
                                    class="mdi mdi-note-plus"></i><span class="hide-menu">用户管理 </span></a></li>
                            <li class="sidebar-item"><a href="#" class="sidebar-link"><i
                                    class="mdi mdi-note-plus"></i><span class="hide-menu">业务报表 </span></a></li>
                        </ul>
                    </li>
                    <li class="sidebar-item"><a class="sidebar-link has-arrow waves-effect waves-dark"
                                                href="javascript:void(0)" aria-expanded="false"><i
                            class="mdi mdi-receipt"></i><span class="hide-menu">
                                    系统设置 </span></a>
                        <ul aria-expanded="false" class="collapse  first-level">
                            <li class="sidebar-item"><a href="/index_parking_lot_setting" class="sidebar-link"><i
                                    class="mdi mdi-note-outline"></i><span class="hide-menu">停车场设置 </span></a></li>
                        </ul>
                    </li>
                </ul>
            </nav>
        </div>
    </aside>
    <div class="modal fade none-border show" id="add-new-event" style="display: none; padding-right: 17px;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title"><strong>添加</strong>进入记录</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true" id="close0">×</button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="row">
                            <div class="col-md-12">
                                <label class="control-label">车牌类型</label>
                                <select class="select2 form-control custom-select select2-hidden-accessible"
                                        style="width: 100%; height:33px;" data-select2-id="1"
                                        tabindex="-1" aria-hidden="true" id="car_type">
                                    <option>临时车</option>
                                    <option>固定车</option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <label class="control-label">车辆类型</label>
                                <select class="select2 form-control custom-select select2-hidden-accessible"
                                        style="width: 100%; height:33px;" data-select2-id="1"
                                        tabindex="-1" aria-hidden="true" id="car_type_model">
                                    <option>小车</option>
                                    <option>大型车</option>
                                    <option>超大型车</option>
                                    <option>其他</option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <label class="control-label">车主</label>
                                <select class="select2 form-control custom-select select2-hidden-accessible"
                                        style="width: 100%; height:33px;" data-select2-id="1"
                                        tabindex="-1" aria-hidden="true" id="car_user">
                                    <option>临时车主</option>
                                    <optgroup label="固定车车主">
                                        <option th:each="stat:${UserResult}" th:value="${stat.userId}"
                                                th:text="${stat.userName}"></option>
                                    </optgroup>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <label class="control-label">车牌号码</label>
                                <div class="row mb-3">
                                    <div class="col-md-3">
                                        <select class="select2 form-control custom-select select2-hidden-accessible"
                                                style="width: 100%; height:33px;" data-select2-id="1" tabindex="-1"
                                                aria-hidden="true" name="select" id="car_plate_num_head">
                                            <option value="京">京</option>
                                            <option value="津">津</option>
                                            <option value="渝">渝</option>
                                            <option value="沪">沪</option>
                                            <option value="冀">冀</option>
                                            <option value="晋">晋</option>
                                            <option value="辽">辽</option>
                                            <option value="吉">吉</option>
                                            <option value="黑">黑</option>
                                            <option value="苏">苏</option>
                                            <option value="浙">浙</option>
                                            <option value="皖">皖</option>
                                            <option value="闽">闽</option>
                                            <option value="赣">赣</option>
                                            <option value="鲁">鲁</option>
                                            <option value="豫">豫</option>
                                            <option value="鄂">鄂</option>
                                            <option value="湘">湘</option>
                                            <option value="粤">粤</option>
                                            <option value="琼">琼</option>
                                            <option value="川">川</option>
                                            <option value="贵">贵</option>
                                            <option value="云">云</option>
                                            <option value="陕">陕</option>
                                            <option value="甘">甘</option>
                                            <option value="青">青</option>
                                            <option value="蒙">蒙</option>
                                            <option value="桂">桂</option>
                                            <option value="宁">宁</option>
                                            <option value="新">新</option>
                                            <option value="藏">藏</option>
                                            <option value="使">使</option>
                                            <option value="领">领</option>
                                            <option value="警">警</option>
                                            <option value="学">学</option>
                                            <option value="港">港</option>
                                            <option value="澳">澳</option>
                                        </select>
                                    </div>
                                    <div class="col-md-9">
                                        <input class="form-control" name="Keyword" placeholder="" value=""
                                               type="text" id="car_plate_num">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <label class="control-label">车辆颜色(可为空)</label>
                                <input type="text" class="form-control form-white" id="car_color">
                            </div>
                        </div>

                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger waves-effect waves-light save-category"
                            data-dismiss="modal" id="sub">添加
                    </button>
                    <button type="button" class="btn btn-secondary waves-effect" data-dismiss="modal" id="close">关闭
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade none-border show" id="add-new-event2" style="display: none; padding-right: 17px;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title"><strong>添加</strong>出场记录</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true" id="close1">×</button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="row">
                            <div class="col-md-12">
                                <label class="control-label">选择车牌</label>
                                <select class="select2 form-control custom-select select2-hidden-accessible"
                                        style="width: 100%; height:33px;" data-select2-id="1"
                                        tabindex="-1" aria-hidden="true" id="order_car_number">
                                    <option>选择车牌</option>
                                    <optgroup label="场内车牌">
                                        <option th:each="stat:${ParkingCarResult}"
                                                th:text="${stat.carPlateNum}"></option>
                                    </optgroup>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <label class="control-label">支付方式</label>
                                <select class="select2 form-control custom-select select2-hidden-accessible"
                                        style="width: 100%; height:33px;" data-select2-id="1"
                                        tabindex="-1" aria-hidden="true" id="order_pay_type">
                                    <option>现金</option>
                                    <option>余额</option>
                                    <option>手机支付</option>
                                    <option>其他</option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <label class="control-label">操作员</label>
                                <input type="text" class="form-control form-white" th:value="tony" id="order_payer">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <label class="control-label">支付人</label>
                                <select class="select2 form-control custom-select select2-hidden-accessible"
                                        style="width: 100%; height:33px;" data-select2-id="1"
                                        tabindex="-1" aria-hidden="true" id="order_receiver">
                                    <option>临时车主</option>
                                    <optgroup label="固定车车主">
                                        <option th:each="stat:${UserResult}" th:value="${stat.userId}"
                                                th:text="${stat.userName}"></option>
                                    </optgroup>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <label class="control-label">金额</label>
                                <input type="text" class="form-control form-white" id="order_money" disabled="disabled">
                            </div>
                        </div>
                        <div class="chargeResult" th:fragment="chargeResult">
                            <input type="hidden" th:value="${Amount}" id="Amount"/>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger waves-effect waves-light save-category"
                            data-dismiss="modal" id="sub2">添加
                    </button>
                    <button type="button" class="btn btn-secondary waves-effect" data-dismiss="modal" id="close2">关闭
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade none-border show" id="add-new-event3" style="display: none; padding-right: 17px;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title"><strong>值班记录生成</strong></h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true" id="closeDuty">×
                    </button>
                </div>
                <div class="OffWorkResult" th:fragment="OffWorkResult">
                    <div class="modal-body">
                        <form>
                            <div class="row">
                                <div class="col-md-12">
                                    <label class="control-label">操作员</label>
                                    <input type="text" class="form-control form-white" disabled="disabled"
                                           th:value="${session.nowStaff}">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <label class="control-label">开始时间</label>
                                    <input type="text" class="form-control form-white" disabled="disabled"
                                           th:value="${session.startTime}">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <label class="control-label">结束时间</label>
                                    <input type="text" class="form-control form-white" disabled="disabled"
                                           th:value="${ending_time}">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <label class="control-label">选择打印路径</label>
                                    <div class="custom-file">
                                        <input type="file" class="custom-file-input" id="validatedCustomFile"
                                               required="">
                                        <label class="custom-file-label" for="validatedCustomFile">Choose
                                            file...</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="accordion" id="accordionExample">
                                        <div class="card m-b-0">
                                            <div class="card-header" id="headingOne">
                                                <h5 class="mb-0">
                                                    <a data-toggle="collapse" data-target="#collapseOne"
                                                       aria-expanded="false"
                                                       aria-controls="collapseOne" class="collapsed">
                                                        <span>基本信息</span>
                                                    </a>
                                                </h5>
                                            </div>
                                            <div id="collapseOne" class="collapse" aria-labelledby="headingOne"
                                                 data-parent="#accordionExample" style="">
                                                <div class="card-body">
                                                    <table class="table">
                                                        <tbody>
                                                        <tr>
                                                            <td><a href="#" class="link">进入车辆</a></td>
                                                            <td th:text="${enterCount}" id="enterCount">1240</td>
                                                        </tr>
                                                        <tr>
                                                            <td><a href="#" class="link">放行车辆</a></td>
                                                            <td th:text="${outerCount}" id="outerCount">1200</td>
                                                        </tr>
                                                        <tr>
                                                            <td><a href="#" class="link">生成订单</a></td>
                                                            <td th:text="${orderCount}" id="orderCount">1230</td>
                                                        </tr>
                                                        <tr>
                                                            <td><a href="#" class="link">总金额</a></td>
                                                            <td th:text="${TotalCount}" id="TotalCount">1542</td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger waves-effect waves-light save-category"
                            data-dismiss="modal" id="offWork">下班
                    </button>
                    <button type="button" class="btn btn-secondary waves-effect" data-dismiss="modal"
                            id="closeDuty2">关闭
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="page-wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <ul class="nav nav-tabs" role="tablist">
                            <li class="nav-item"><a class="nav-link active show" data-toggle="tab"
                                                    href="#real_time_info"
                                                    role="tab"
                                                    aria-selected="true"><span class="hidden-sm-up"></span> <span
                                    class="hidden-xs-down"><font style="vertical-align: inherit;"><font
                                    style="vertical-align: inherit;">实时信息</font></font></span></a></li>
                            <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#charge" role="tab"
                                                    aria-selected="false"><span class="hidden-sm-up"></span> <span
                                    class="hidden-xs-down"><font style="vertical-align: inherit;"><font
                                    style="vertical-align: inherit;">当班收费</font></font></span></a></li>
                        </ul>
                        <div class="tab-content tabcontent-border">
                            <div class="tab-pane active show" id="real_time_info" role="tabpanel">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="card border">
                                            <div class="card-body">
                                                <h5 class="card-title">场内停车数量变化</h5>
                                                <div class="bars"
                                                     style="height: 500px; padding: 0px; position: relative;">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="card">
                                            <div class="card">
                                                <div class="card-body">
                                                    <div class="col-md-4">
                                                        <div class="bg-dark p-10 text-white text-center">
                                                            <i class="fa fa-user m-b-5 font-16"></i>
                                                            <div class="clock">
                                                                <div class="numbers"
                                                                     style="width:20%; display:inline-block;vertical-align: center;">
                                                                    <p class="hours"></p>
                                                                </div>
                                                                <div class="colon"
                                                                     style="width:1%; display:inline-block;vertical-align: center;">
                                                                    <p>:</p>
                                                                </div>
                                                                <div class="numbers"
                                                                     style="width:20%; display:inline-block;vertical-align: center;">
                                                                    <p class="minutes"></p>
                                                                </div>
                                                                <div class="colon"
                                                                     style="width:1%; display:inline-block;vertical-align: center;">
                                                                    <p>:</p>
                                                                </div>
                                                                <div class="numbers"
                                                                     style="width:20%; display:inline-block;vertical-align: center;">
                                                                    <p class="seconds"></p>
                                                                </div>
                                                                <div class="am-pm"
                                                                     style="width:10%; display:inline-block;vertical-align: center;">
                                                                    <div>
                                                                        <p class="am">am</p>
                                                                    </div>
                                                                    <div>
                                                                        <p class="pm" style="display: none">pm</p>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                            <big class="font-light">当前时间</big>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="DutyResult" th:fragment="DutyResult">
                                                    <input type="hidden" th:value="${info}" id="info"/>
                                                    <input type="hidden" th:value="${staffId}" id="staffId"/>
                                                    <input type="hidden" th:value="${staffName}" id="staffName"/>
                                                    <input type="hidden" th:value="${startTime}" id="startTime"/>
                                                    <ul class="list-style-none">
                                                        <li class="card-body border-top">
                                                            <a href="#" class="m-b-0 p-0">
                                                                <div class="d-flex no-block">
                                                                    <i class="fa fa-user w-30px m-t-5"></i>
                                                                    <div>
                                                                        <span class="font-bold">操作员</span>
                                                                        <p th:text="${session.nowStaff}">无</p>
                                                                    </div>
                                                                </div>
                                                            </a>
                                                        </li>
                                                        <li class="card-body border-top">
                                                            <a href="#" class="m-b-0 p-0">
                                                                <div class="d-flex no-block">
                                                                    <i class="fa fa-user w-30px m-t-5"></i>
                                                                    <div>
                                                                        <span class="font-bold">开始时间</span>
                                                                        <p th:text="${session.startTime}">无</p>
                                                                    </div>
                                                                </div>
                                                            </a>
                                                        </li>
                                                        <li class="card-body border-top">
                                                            <a href="#" class="m-b-0 p-0">
                                                                <div class="d-flex no-block">
                                                                    <i class="fa fa-user w-30px m-t-5"></i>
                                                                    <div>
                                                                        <span class="font-bold">剩余车位</span>
                                                                        <p th:text="${nowSpaceNumber}">0</p>
                                                                    </div>
                                                                </div>
                                                            </a>
                                                        </li>
                                                        <li class="card-body border-top border-bottom">
                                                            <a href="#" class="m-b-0 p-0">
                                                                <div class="d-flex no-block">
                                                                    <i class="fa fa-user w-30px m-t-5"></i>
                                                                    <div>
                                                                        <span class="font-bold">收费金额</span>　
                                                                        <div th:test="${TotalCount}"></div>
                                                                    </div>
                                                                </div>
                                                            </a>
                                                        </li>
                                                    </ul>
                                                    <div class="card-footer">
                                                    <span class="text-muted float-right">
                                                        <button type="button" class="btn btn-success btn-lg"
                                                                　id="start"
                                                                th:onclick="|javascript : start()|">值班</button>
                                                        <button type="button" class="btn btn-danger btn-lg"
                                                                id="endDuty">下班</button>
                                                    </span>
                                                        <button type="button" class="btn btn-cyan btn-lg"
                                                                id="popWindow">
                                                            车辆进场
                                                        </button>
                                                        <button type="button" class="btn btn-cyan btn-lg"
                                                                id="popWindow2">
                                                            车辆出场
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="card">
                                            <div class="card-body">
                                                <h5 class="card-title">出场记录</h5>
                                            </div>
                                            <div class="OuterResult" th:fragment="OuterResult">
                                                <table class="table table-striped table-bordered dataTable"
                                                       role="grid" aria-describedby="zero_config_info">
                                                    <thead>
                                                    <tr role="row">
                                                        <th class="sorting_asc" tabindex="0" aria-controls="zero_config"
                                                            rowspan="1" colspan="1" aria-sort="ascending"
                                                            aria-label="名称：激活以对列降序排序" style="width: 100px;"><font
                                                                style="vertical-align: inherit;"><font
                                                                style="vertical-align: inherit;">出场时间</font></font></th>
                                                        <th class="sorting" tabindex="0" aria-controls="zero_config"
                                                            rowspan="1"
                                                            colspan="1" aria-label="位置：激活以对列升序排序" style="width: 100px;">
                                                            <font
                                                                    style="vertical-align: inherit;"><font
                                                                    style="vertical-align: inherit;">车牌</font></font>
                                                        </th>
                                                        <th class="sorting" tabindex="0" aria-controls="zero_config"
                                                            rowspan="1"
                                                            colspan="1" aria-label="Office：激活以对列升序进行排序"
                                                            style="width: 100px;">
                                                            <font style="vertical-align: inherit;"><font
                                                                    style="vertical-align: inherit;">车类型</font></font>
                                                        </th>
                                                        <th class="sorting" tabindex="0" aria-controls="zero_config"
                                                            rowspan="1"
                                                            colspan="1" aria-label="开始日期：激活以对列升序进行排序"
                                                            style="width: 100px;">
                                                            <font
                                                                    style="vertical-align: inherit;"><font
                                                                    style="vertical-align: inherit;">收费</font></font>
                                                        </th>
                                                    </tr>
                                                    </thead>
                                                    <tbody th:each="stat:${OuterResult}">
                                                    <tr role="row" class="odd">
                                                        <th th:text="${stat.exitTime}"></th>
                                                        <th th:text="${stat.carPlateNum}"></th>
                                                        <th th:text="${stat.tbCar.carType}"></th>
                                                        <th th:text="${stat.tbOrder.orderAmount}"></th>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="card">
                                            <div class="card-body">
                                                <h5 class="card-title">入场记录</h5>
                                            </div>
                                            <div class="EnterResult" th:fragment="EnterResult">
                                                <table id="zero_config"
                                                       class="table table-striped table-bordered dataTable"
                                                       role="grid" aria-describedby="zero_config_info">
                                                    <thead>
                                                    <tr role="row">
                                                        <th class="sorting_asc" tabindex="0" aria-controls="zero_config"
                                                            rowspan="1" colspan="1" aria-sort="ascending"
                                                            aria-label="名称：激活以对列降序排序" style="width: 100px;"><font
                                                                style="vertical-align: inherit;"><font
                                                                style="vertical-align: inherit;">入场时间</font></font></th>
                                                        <th class="sorting" tabindex="0" aria-controls="zero_config"
                                                            rowspan="1"
                                                            colspan="1" aria-label="位置：激活以对列升序排序" style="width: 100px;">
                                                            <font
                                                                    style="vertical-align: inherit;"><font
                                                                    style="vertical-align: inherit;">车牌</font></font>
                                                        </th>
                                                        <th class="sorting" tabindex="0" aria-controls="zero_config"
                                                            rowspan="1"
                                                            colspan="1" aria-label="Office：激活以对列升序进行排序"
                                                            style="width: 100px;">
                                                            <font style="vertical-align: inherit;"><font
                                                                    style="vertical-align: inherit;">车类型</font></font>
                                                        </th>
                                                    </tr>
                                                    </thead>
                                                    <tbody th:each="stat:${EnterResult}">
                                                    <tr>
                                                        <th th:text="${stat.enterTime}"></th>
                                                        <th th:text="${stat.carPlateNum}"></th>
                                                        <th th:text="${stat.tbCar.carType}"></th>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane p-20" id="charge" role="tabpanel">
                                <div class="card">
                                    <div class="col-md-8">
                                        <div class="card-body border-top">
                                            <div class="row mb-3">
                                                <div class="col-md-2">
                                                    <label>展示数量</label>
                                                    <select class="select2 form-control custom-select select2-hidden-accessible"
                                                            style="width: 100%; height:33px;" data-select2-id="1"
                                                            tabindex="-1" aria-hidden="true" id="search_number">
                                                        <option>10</option>
                                                        <option>25</option>
                                                        <option>50</option>
                                                        <option>100</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-2">
                                                    <label>车牌类型</label>
                                                    <select class="select2 form-control custom-select select2-hidden-accessible"
                                                            style="width: 100%; height:33px;" data-select2-id="1"
                                                            tabindex="-1" aria-hidden="true" id="search_car_plate_type">
                                                        <option>全体</option>
                                                        <option>临时车</option>
                                                        <option>固定车</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-2">
                                                    <label>车辆类型</label>
                                                    <select class="select2 form-control custom-select select2-hidden-accessible"
                                                            style="width: 100%; height:33px;" data-select2-id="1"
                                                            tabindex="-1" aria-hidden="true" id="search_car_type">
                                                        <option>全体</option>
                                                        <option>小车</option>
                                                        <option>大型车</option>
                                                        <option>超大型车</option>
                                                        <option>其他</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-2">
                                                    <label>支付方式</label>
                                                    <select class="select2 form-control custom-select select2-hidden-accessible"
                                                            style="width: 100%; height:33px;" data-select2-id="1"
                                                            tabindex="-1" aria-hidden="true" id="search_pay_type">
                                                        <option>全体</option>
                                                        <option>现金</option>
                                                        <option>余额</option>
                                                        <option>手机支付</option>
                                                        <option>其他</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-2">
                                                    <label>关键字</label>
                                                    <select class="select2 form-control custom-select select2-hidden-accessible"
                                                            style="width: 100%; height:33px;" data-select2-id="1"
                                                            tabindex="-1" aria-hidden="true" id="search_Keyword_title">
                                                        <option>全体</option>
                                                        <option>金额</option>
                                                        <option>车牌号</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-2">
                                                    <label><font color="white">关键字</font></label>
                                                    <input class="form-control" placeholder=""
                                                           value=""
                                                           type="text" id="search_keyword">
                                                </div>
                                            </div>
                                        </div>
                                        <div th:fragment="RecordAndOrderResult" class="RecordAndOrderResult">
                                            <div class="card-body">
                                                <table class="table table-striped table-bordered">
                                                    <thead>
                                                    <tr>
                                                        <th style="width: 50px">
                                                            编号
                                                        </th>
                                                        <th style="width: 50px">
                                                            车牌号
                                                        </th>
                                                        <th style="width: 75px">
                                                            车牌类型
                                                        </th>
                                                        <th style="width: 75px">
                                                            车辆类型
                                                        </th>
                                                        <th style="width: 50px">
                                                            进入时间
                                                        </th>
                                                        <th style="width: 50px">
                                                            出入时间
                                                        </th>
                                                        <th style="width: 75px">
                                                            收费
                                                        </th>
                                                        <th style="width: 75px">
                                                            支付方式
                                                        </th>
                                                    </tr>
                                                    </thead>
                                                    <tbody th:each="stat:${RecordAndOrderResult}">
                                                    <tr>
                                                        <th th:text="${stat.parkingPlateId}"></th>
                                                        <th th:text="${stat.carPlateNum}"></th>
                                                        <th th:text="${stat.tbCar.carType}"></th>
                                                        <th th:text="${stat.tbCar.carTypeModel}"></th>
                                                        <th th:text="${#dates.format(stat.enterTime, 'yyyy-MM-dd HH:mm')}"></th>
                                                        <th th:text="${#dates.format(stat.exitTime, 'yyyy-MM-dd HH:mm')}"></th>
                                                        <th th:text="${stat.tbOrder.orderAmount}"></th>
                                                        <th th:text="${stat.tbOrder.orderPayType}"></th>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer text-center">
        All Rights Reserved by Matrix-admin. Designed and Developed by <a href="https://wrappixel.com">zhichao</a>.
    </footer>
</div>
</div>
<script src="assets/libs/jquery/dist/jquery.min.js"></script>
<script src="dist/js/jquery.ui.touch-punch-improved.js"></script>
<script src="dist/js/jquery-ui.min.js"></script>
<script src="assets/libs/popper.js/dist/umd/popper.min.js"></script>
<script src="assets/libs/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="assets/libs/perfect-scrollbar/dist/perfect-scrollbar.jquery.min.js"></script>
<script src="assets/extra-libs/sparkline/sparkline.js"></script>
<script src="dist/js/waves.js"></script>
<script src="dist/js/sidebarmenu.js"></script>
<script src="dist/js/custom.min.js"></script>
<script src="assets/libs/moment/min/moment.min.js"></script>
<script src="assets/libs/fullcalendar/dist/fullcalendar.min.js"></script>
<script src="dist/js/pages/calendar/cal-init.js"></script>
<script src="assets/libs/chart/matrix.interface.js"></script>
<script src="assets/libs/chart/excanvas.min.js"></script>
<script src="assets/libs/flot/jquery.flot.js"></script>
<script src="assets/libs/flot/jquery.flot.pie.js"></script>
<script src="assets/libs/flot/jquery.flot.time.js"></script>
<script src="assets/libs/flot/jquery.flot.stack.js"></script>
<script src="assets/libs/flot/jquery.flot.crosshair.js"></script>
<script src="assets/libs/chart/jquery.peity.min.js"></script>
<script src="assets/libs/chart/jquery.flot.pie.min.js"></script>
<script src="assets/libs/flot.tooltip/js/jquery.flot.tooltip.min.js"></script>
<!--<script src="assets/libs/chart/turning-series.js"></script>-->
<script src="dist/js/pages/chart/chart-page-init.js"></script>
<script src="js/index-manage-parking.js"></script>
<script language="JavaScript" type="text/javascript">
    const div = document.getElementById('add-new-event');
    const sub = document.getElementById('sub');
    const close = document.getElementById('close');
    const close0 = document.getElementById('close0');
    $('#popWindow').bind('click', function () {
        div.style.display = "block"
    });
    close.onclick = function () {
        div.style.display = "none";
    }
    close0.onclick = function () {
        div.style.display = "none";
    }
    sub.onclick = function () {
        const car_type = $('#car_type').val()
        const car_type_model = $('#car_type_model').val()
        const car_user = $('#car_user').val()
        const car_plate_num_head = $('#car_plate_num_head').val()
        const car_plate_num = $('#car_plate_num').val()
        const car_color = $('#car_color').val()
        const Data = {
            "car_type": car_type,
            "car_type_model": car_type_model,
            "car_user": car_user,
            "car_plate_num_head": car_plate_num_head,
            "car_plate_num": car_plate_num,
            "car_color": car_color,
            "date": new Date()
        }
        $.ajax({
            type: "post",
            url: "/index-manage-parking/addParkingRecordEnter",
            contentType: 'application/json;charset=utf-8',
            data: JSON.stringify(Data),
            dataType: "text",
            success: function (data) {
                // $(".EnterResult").html(data);
                div.style.display = "none";
                window.location.reload()
            },
            error: function (date) {
                div.style.display = "none";
            }
        })
    }
    const div2 = document.getElementById('add-new-event2');
    const sub2 = document.getElementById('sub2');
    const close1 = document.getElementById('close');
    const close2 = document.getElementById('close2');
    $('#popWindow2').bind('click', function () {
        div2.style.display = "block"
    });
    close1.onclick = function () {
        div2.style.display = "none";
    }
    close2.onclick = function () {
        div2.style.display = "none";
    }
    sub2.onclick = function () {
        const order_car_number = $('#order_car_number').val()
        const order_pay_type = $('#order_pay_type').val()
        const order_payer = $('#order_payer').val()
        const order_receiver = $('#order_receiver').val()
        const money = $('#order_money').val()
        const Data = {
            "order_car_number": order_car_number,
            "order_pay_type": order_pay_type,
            "order_payer": order_payer,
            "order_receiver": order_receiver,
            "money": money,
            "date": new Date()
        }
        $.ajax({
            type: "post",
            url: "/index-manage-parking/addParkingOrderOuter",
            contentType: 'application/json;charset=utf-8',
            data: JSON.stringify(Data),
            dataType: "text",
            success: function (data) {
                // $(".OuterResult").html(data);
                window.location.reload()
                div2.style.display = "none";
            },
            error: function (date) {
                div2.style.display = "none";
            }
        })
    }

    function start() {
        const t = confirm("是否开始值班？");
        if (t == true) {
            $.ajax({
                type: "get",
                url: "/index-manage-parking/addDutyRow",
                contentType: 'application/json;charset=utf-8',
                dataType: "text",
                success: function (data) {
                    // $(".DutyResult").html(data);
                    const info = $('#info')
                    if (info === '0') {
                        alert('当前不存在值班任务')
                    }
                    window.location.reload()
                },
                error: function (date) {
                    alert("失败")
                }
            })
        } else {
            return false;
        }
    }

    const div3 = document.getElementById('add-new-event3');
    $('#endDuty').bind('click', function () {
        div3.style.display = "block"
        $.ajax({
            type: "get",
            url: "/index-manage-parking/updateDutyOffWork",
            contentType: 'application/json;charset=utf-8',
            dataType: "text",
            success: function (data) {
                $(".OffWorkResult").html(data);
            },
            error: function (date) {
            }
        })
    });
    $('#closeDuty').bind('click', function () {
        div3.style.display = "none"
    });
    $('#closeDuty2').bind('click', function () {
        div3.style.display = "none"
    });
    $("#order_car_number").bind("input propertychange", function (event) {

        const order_car_number = $('#order_car_number').val()
        if (order_car_number != '选择车牌') {
            const Data = {
                "order_car_number": order_car_number,
                "random": new Date()
            }
            $.ajax({
                type: "post",
                url: "/index-manage-parking/countCharge",
                contentType: 'application/json;charset=utf-8',
                data: JSON.stringify(Data),
                dataType: "text",
                success: function (data) {
                    $(".chargeResult").html(data);
                    const Amount = $('#Amount').val()
                    $('#order_money').val(Amount)
                },
                error: function (date) {

                }
            })
        } else {
            return false;
        }
    });
    $('#offWork').bind('click', function () {
        const t = confirm("是否结束值班？");
        if (t == true) {
            const Data = {
                "date": new Date()
            }
            $.ajax({
                type: "post",
                url: "/index-manage-parking/commitDutyOffWork",
                contentType: 'application/json;charset=utf-8',
                data: JSON.stringify(Data),
                dataType: "text",
                success: function (data) {
                    window.location.reload()
                },
                error: function (date) {
                    alert("失败")
                }
            })
        } else {
            return false;
        }
    });

    $("#search_keyword").bind("input propertychange", function (event) {
        const search_number = $('#search_number').val()
        const search_car_plate_type = $('#search_car_plate_type').val()
        const search_car_type = $('#search_car_type').val()
        const search_pay_type = $('#search_pay_type').val()
        const search_Keyword_title = $('#search_Keyword_title').val()
        const Data = {
            "search_number": search_number,
            "search_car_plate_type": search_car_plate_type,
            "search_car_type": search_car_type,
            "search_pay_type": search_pay_type,
            "search_Keyword_title": search_Keyword_title,
            "page": 0,
            "date": new Date()
        }
        $.ajax({
            type: "post",
            url: "/index-manage-parking/selectRecordAndOrderByPage",
            contentType: 'application/json;charset=utf-8',
            data: JSON.stringify(Data),
            dataType: "text",
            success: function (data) {
                $(".RecordAndOrderResult").html(data);
            },
            error: function (date) {
                alert("失败")
            }
        })
    });
    $("#search_number").bind("input propertychange", function (event) {
        alert("!!")
    });
    $("#search_keyword").bind("input propertychange", function (event) {
        alert("!!")
    });
    $("#search_car_plate_type").bind("input propertychange", function (event) {
        alert("!!")
    });
    $("#search_car_type").bind("input propertychange", function (event) {
        alert("!!")
    });
    $("#search_pay_type").bind("input propertychange", function (event) {
        alert("!!")
    });
    $("#search_Keyword_title").bind("input propertychange", function (event) {
        alert("!!")
    });
    // search_number
    // search_car_plate_type
    // search_car_type
    // search_pay_type
    // search_Keyword_title
</script>
<script type="text/javascript">
    //invokes functions as soon as window loads
    window.onload = function () {
        time();
        ampm();
        whatDay();
        setInterval(function () {
            time();
            ampm();
            whatDay();
        }, 1000);
    };


    //gets current time and changes html to reflect it
    function time() {
        var date = new Date(),
            hours = date.getHours(),
            minutes = date.getMinutes(),
            seconds = date.getSeconds();

        //make clock a 12 hour clock instead of 24 hour clock
        // hours = (hours > 12) ? (hours - 12) : hours;
        // hours = (hours === 0) ? 12 : hours;

        //invokes function to make sure number has at least two digits
        hours = addZero(hours);
        minutes = addZero(minutes);
        seconds = addZero(seconds);

        //changes the html to match results
        document.getElementsByClassName('hours')[0].innerHTML = hours;
        document.getElementsByClassName('minutes')[0].innerHTML = minutes;
        document.getElementsByClassName('seconds')[0].innerHTML = seconds;
    }

    //turns single digit numbers to two digit numbers by placing a zero in front
    function addZero(val) {
        return (val <= 9) ? ("0" + val) : val;
    }

    //lights up either am or pm on clock
    function ampm() {
        var date = new Date(),
            hours = date.getHours(),
            am = document.getElementsByClassName("am")[0].classList,
            pm = document.getElementsByClassName("pm")[0].classList;


        (hours >= 12) ? pm.add("light-on") : am.add("light-on");
        (hours >= 12) ? am.remove("light-on") : pm.remove("light-on");
    }

    //lights up what day of the week it is
    function whatDay() {
        var date = new Date(),
            currentDay = date.getDay(),
            days = document.getElementsByClassName("day");

        //iterates through all divs with a class of "day"
        for (x in days) {
            //list of classes in current div
            var classArr = days[x].classList;

            (classArr !== undefined) && ((x == currentDay) ? classArr.add("light-on") : classArr.remove("light-on"));
        }
    }
</script>
<script language="JavaScript" type="text/javascript" th:inline="javascript">
    const type = [[${chartResult}]];
    const data = new Array();
    const date = new Date(new Date().toLocaleDateString()).getTime()

    //分割字符串
    function formatDate(number) {
        const re1 = /.*[\u4e00-\u9fa5]+.*/;
        for (let i = 0; i < number.length; i++) {
            if (re1.test(number[i])) {
                number = number.substr(0, i - 1);
            }
        }
        return number;
    };

    let j = 23;
    for (let i = 0; i < 24; i++) {
        data.push([date - j * 60 * 60 * 1000, type[i]])
        console.log(type[i])
        j--;
    }
    $(function () {
        const data1 = [{
            label: "data2",
            data: data,
            lines: {
                show: true
            }
        }];

        var options = {
            xaxis: {
                mode: "time",
            }
        };

        $.plot($(".bars"), data1, options);
    });
</script>
</body>
</body>
</html>